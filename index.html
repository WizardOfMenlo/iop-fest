<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IOP Fest ‚Äî Rome ‚Ä¢ One-day Event</title>
    <meta
      name="description"
      content="IOP Fest is a one-day event in Rome bringing people together for ideas, demos, and discussion."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #f7f2e9;
        --ink: #1e1b17;
        --muted: #6a6159;
        --accent: #b45a3c;
        --accent-2: #2f6f6b;
        --live-dot: #d93a2f;
        --card: #fff7ec;
        --line: #e2d6c7;
        --shadow: 0 18px 50px rgba(30, 27, 23, 0.12);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
        background: radial-gradient(1200px 800px at 85% -10%, #f2dcc3 0%, rgba(242, 220, 195, 0) 55%),
          radial-gradient(900px 600px at -10% 20%, #dfe9e3 0%, rgba(223, 233, 227, 0) 60%),
          var(--bg);
        color: var(--ink);
        min-height: 100vh;
      }

      main {
        max-width: 1100px;
        margin: 0 auto;
        padding: 40px 24px 80px;
      }

      header {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        padding: 8px 0 32px;
      }

      nav {
        display: flex;
        gap: 18px;
        font-size: 0.95rem;
      }

      nav a {
        color: var(--muted);
        text-decoration: none;
        padding-bottom: 2px;
        border-bottom: 1px solid transparent;
        transition: border-color 0.2s ease;
      }

      nav a:hover {
        border-color: var(--accent);
        color: var(--ink);
      }

      .logo {
        font-family: "Playfair Display", serif;
        font-size: 1.5rem;
        letter-spacing: 0.02em;
      }

      .hero {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 32px;
        align-items: center;
        padding: 24px 0 28px;
      }

      .hero h1 {
        font-family: "Playfair Display", serif;
        font-size: clamp(2.6rem, 4vw, 4rem);
        margin: 0 0 16px;
      }

      .hero p {
        font-size: 1.05rem;
        color: var(--muted);
        line-height: 1.6;
        margin: 0 0 20px;
      }

      .pill {
        display: inline-flex;
        gap: 10px;
        align-items: center;
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 8px 16px;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: var(--ink);
        color: #fdf8f1;
        text-decoration: none;
        padding: 12px 20px;
        border-radius: 999px;
        font-weight: 600;
        box-shadow: var(--shadow);
        transition: transform 0.2s ease;
      }

      .cta:hover {
        transform: translateY(-2px);
      }

      .highlight {
        display: grid;
        gap: 18px;
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: 24px;
        padding: 24px;
        box-shadow: var(--shadow);
      }

      .highlight strong {
        font-size: 1.1rem;
        letter-spacing: 0.01em;
      }

      .tab-header {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .tab-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: 1px solid var(--line);
        background: #fdf6eb;
        color: var(--muted);
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease;
      }

      .tab-button:hover {
        transform: translateY(-1px);
        color: var(--ink);
      }

      .tab-button.is-active {
        background: var(--ink);
        color: #fdf8f1;
        border-color: var(--ink);
      }

      .tab-panel {
        display: none;
        gap: 10px;
      }

      .tab-panel.is-active {
        display: grid;
      }

      .live-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--live-dot);
        box-shadow: 0 0 0 0 rgba(217, 58, 47, 0.6);
        animation: live-blink 1.4s ease-in-out infinite;
      }

      @keyframes live-blink {
        0%,
        100% {
          opacity: 0.25;
          transform: scale(0.85);
          box-shadow: 0 0 0 0 rgba(217, 58, 47, 0.5);
        }
        50% {
          opacity: 1;
          transform: scale(1);
          box-shadow: 0 0 0 6px rgba(217, 58, 47, 0);
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .live-dot {
          animation: none;
        }
      }

      .live-status {
        display: grid;
        gap: 10px;
      }

      .live-label {
        text-transform: uppercase;
        font-size: 0.75rem;
        letter-spacing: 0.14em;
        color: var(--muted);
      }

      .live-time {
        font-family: "Playfair Display", serif;
        font-size: 1.6rem;
      }

      .live-time.is-countdown {
        font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
        font-size: 1.35rem;
        font-variant-numeric: tabular-nums;
        letter-spacing: 0.04em;
      }

      .countdown-segment {
        display: inline-flex;
        align-items: baseline;
        gap: 4px;
        margin-right: 10px;
      }

      .countdown-segment:last-child {
        margin-right: 0;
      }

      .countdown-unit {
        font-size: 0.85em;
        color: var(--muted);
        text-transform: lowercase;
      }

      .live-output {
        display: grid;
        gap: 6px;
      }

      .live-title {
        font-weight: 600;
      }

      .live-speaker {
        color: var(--accent-2);
        font-weight: 600;
      }

      section {
        margin-top: 20px;
      }

      #program {
        margin-top: 0;
      }

      section h2 {
        font-family: "Playfair Display", serif;
        font-size: clamp(1.8rem, 3vw, 2.5rem);
        margin-bottom: 16px;
      }

      .grid {
        display: grid;
        gap: 24px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }

      .card {
        background: #fffaf2;
        border: 1px solid var(--line);
        border-radius: 20px;
        padding: 20px;
        min-height: 150px;
        box-shadow: 0 12px 30px rgba(30, 27, 23, 0.08);
      }

      .card h3 {
        margin: 0 0 8px;
        font-size: 1.1rem;
      }

      .card p,
      .card ul {
        color: var(--muted);
        margin: 0;
        line-height: 1.6;
      }

      .muted {
        color: var(--muted);
        font-size: 0.95rem;
      }

      .program-list {
        display: grid;
        gap: 14px;
      }

      .program-item {
        display: grid;
        grid-template-columns: 90px 1fr;
        gap: 14px;
        padding: 14px 16px;
        border-radius: 16px;
        border: 1px solid var(--line);
        background: #fffdf8;
      }

      .program-item.is-break {
        opacity: 0.65;
        background: #f6efe6;
        padding: 8px 16px;
      }

      .program-item.is-coffee {
        grid-template-columns: 1fr;
        padding: 6px 16px;
      }

      .program-item.is-coffee .program-time {
        display: none;
      }

      .abstract {
        margin-top: 8px;
      }

      .abstract summary {
        cursor: pointer;
        color: var(--accent-2);
        font-weight: 600;
        list-style: none;
      }

      .abstract summary::-webkit-details-marker {
        display: none;
      }

      .abstract p {
        margin: 8px 0 0;
        color: var(--muted);
        line-height: 1.5;
      }

      .abstract-content {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: max-height 0.35s ease, opacity 0.35s ease;
      }

      .abstract[open] .abstract-content {
        max-height: 200px;
        opacity: 1;
      }

      .program-time {
        font-weight: 600;
        color: var(--accent);
        line-height: 1.1;
      }

      .program-time span {
        display: block;
      }

      .organizers {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(3, minmax(200px, 1fr));
      }

      .organizer {
        display: grid;
        gap: 10px;
        padding: 16px;
        border-radius: 16px;
        border: 1px solid var(--line);
        background: #fffdf8;
      }

      .organizer-photo {
        width: 100%;
        aspect-ratio: 4 / 3;
        border-radius: 12px;
        border: 1px solid var(--line);
        background: linear-gradient(135deg, #f0e6d8, #f9f3ea);
      }

      .organizer span {
        color: var(--muted);
        font-size: 0.95rem;
      }

      footer {
        margin-top: 80px;
        padding: 24px 0 12px;
        border-top: 1px solid var(--line);
        color: var(--muted);
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 16px;
        font-size: 0.9rem;
      }

      .fade-up {
        opacity: 0;
        transform: translateY(18px);
        transition: opacity 0.8s ease, transform 0.8s ease;
      }

      .fade-up.is-visible {
        opacity: 1;
        transform: translateY(0);
      }

      @media (max-width: 700px) {
        nav {
          flex-wrap: wrap;
          justify-content: center;
        }

        .program-item {
          grid-template-columns: 1fr;
        }

        .organizers {
          grid-template-columns: 1fr;
        }

      }
    </style>
  </head>
  <body>
    <main>
      <header>
        <div class="logo">IOP Fest</div>
        <nav>
          <a href="#program">Program</a>
          <a href="#about">About</a>
          <a href="#logistics">Logistics</a>
          <a href="#speakers">Speakers</a>
          <a href="#organizers">Organizers</a>
        </nav>
      </header>

      <section class="hero">
        <div class="fade-up">
          <div class="pill">Rome ¬∑ One-day gathering ¬∑ 2026</div>
          <h1>IOP Fest</h1>
          <p>
            Join us in celebrating a decade of advances in Interactive Oracle Proofs in theory and practice.
          </p>
          <a class="cta" href="https://docs.google.com/forms/d/e/1FAIpQLSfw637_ovKNOXehCN97-d7YHv8zGvTuXMJI7yQvFIknouTFlg/viewform?usp=header">Register now ‚Üí</a>
        </div>
        <div class="highlight fade-up">
          <div class="tab-header">
            <button class="tab-button is-active" type="button" data-tab="facts">Quick facts</button>
            <button class="tab-button" type="button" data-tab="live">
              <span class="live-dot" aria-hidden="true"></span>
              Live status
            </button>
          </div>
          <div class="tab-panel is-active" data-panel="facts">
            <div>üìç Rome, Italy</div>
            <div>
              üèõÔ∏è Courtyard by Marriott Rome Central Park ¬∑
              <a href="https://maps.google.com/?q=Courtyard+by+Marriott+Rome+Central+Park">Map</a>
            </div>
            <div>üóìÔ∏è Saturday, 9 May 2026</div>
            <div>‚è∞ 09:00 ‚Äì 16:00</div>
            <div>
              üéüÔ∏è Register via
              <a href="https://eurocrypt.iacr.org/2026/affiliated.php">EC affiliated events</a>
              or
              <a href="https://zkproof.org/events/zkproof-8-rome/">ZKProof 8</a>
            </div>
          </div>
          <div class="tab-panel" data-panel="live">
            <div class="live-status">
              <div class="live-label">Live status</div>
              <div class="live-time" id="live-time">Loading‚Ä¶</div>
              <div class="live-output" id="live-output">Preparing live schedule‚Ä¶</div>
            </div>
          </div>
        </div>
      </section>

      <section id="program" class="fade-up">
        <h2>Program</h2>
        <p class="muted">(subject to change)</p>
        <div class="program-list">
          <div class="program-item">
            <div class="program-time">
              <span>09:00</span>
              <span>09:05</span>
            </div>
            <div>
              <strong>Giacomo ¬∑ Nick ¬∑ Ron</strong>
              <div class="muted">Introduction</div>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>09:05</span>
              <span>09:50</span>
            </div>
            <div>
              <strong>Alessandro Chiesa</strong>
              <span class="muted">¬∑ EPFL</span>
              <div class="muted"><!-- Proximity testing to Reed--Solomon codes -->TBA</div>
              <details class="abstract">
                <summary>Abstract</summary>
                <div class="abstract-content">
                  <p>TBA</p>
                </div>
              </details>
            </div>
          </div>
          <div class="program-item is-break is-coffee">
            <div class="program-time">
              <span>09:50</span>
              <span>10:15</span>
            </div>
            <div>
              <strong>‚òï Coffee break</strong>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>10:15</span>
              <span>11:00</span>
            </div>
            <div>
              <strong>Pratyush Mishra</strong>
              <span class="muted">¬∑ UPenn</span>
              <div class="muted"><!-- Query-optimal IOPs of proximity -->TBA</div>
              <details class="abstract">
                <summary>Abstract</summary>
                <div class="abstract-content">
                  <p>TBA</p>
                </div>
              </details>
            </div>
          </div>
          <div class="program-item is-break is-coffee">
            <div class="program-time">
              <span>11:00</span>
              <span>11:15</span>
            </div>
            <div>
              <strong>‚òï Coffee break</strong>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>11:15</span>
              <span>12:00</span>
            </div>
            <div>
              <strong>Noor Athamnah</strong>
              <span class="muted">¬∑ Technion</span>
              <div class="muted"><!-- IOPs for boolean circuits -->TBA</div>
              <details class="abstract">
                <summary>Abstract</summary>
                <div class="abstract-content">
                  <p>TBA</p>
                </div>
              </details>
            </div>
          </div>
          <div class="program-item is-break">
            <div class="program-time">
              <span>12:00</span>
              <span>13:15</span>
            </div>
            <div>
              <strong>Lunch break</strong>
              <div class="muted">Walkable options nearby</div>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>13:15</span>
              <span>14:00</span>
            </div>
            <div>
              <!-- Dan Boneh ¬∑ Stanford University -->
              <strong>TBA</strong>
              <div class="muted"><!-- Proximity gaps conjectures -->TBA</div>
              <details class="abstract">
                <summary>Abstract</summary>
                <div class="abstract-content">
                  <p>TBA</p>
                </div>
              </details>
            </div>
          </div>
          <div class="program-item is-break is-coffee">
            <div class="program-time">
              <span>14:00</span>
              <span>14:15</span>
            </div>
            <div>
              <strong>‚òï Coffee break</strong>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>14:15</span>
              <span>15:00</span>
            </div>
            <div>
              <strong>William Wang</strong>
              <span class="muted">¬∑ NYU</span>
              <div class="muted"><!-- IORs and hash-based accumulation -->TBA</div>
              <details class="abstract">
                <summary>Abstract</summary>
                <div class="abstract-content">
                  <p>TBA</p>
                </div>
              </details>
            </div>
          </div>
          <div class="program-item is-break is-coffee">
            <div class="program-time">
              <span>15:00</span>
              <span>15:15</span>
            </div>
            <div>
              <strong>‚òï Coffee break</strong>
            </div>
          </div>
          <div class="program-item">
            <div class="program-time">
              <span>15:15</span>
              <span>16:00</span>
            </div>
            <div>
              <strong>Open Problems Session</strong>
              <div class="muted">Group discussion to close the day</div>
            </div>
          </div>
        </div>
      </section>

      <section id="about" class="fade-up">
        <h2>IOP Fest</h2>
        <p class="muted">Celebrating 10 Years of Theory &amp; Practice.</p>
        <div class="grid">
          <div class="card">
            <h3>Focus</h3>
            <p>
              IOP Fest celebrates a decade of advances in Interactive Oracle Proofs, in both theory and practice.
            </p>
          </div>
          <div class="card">
            <h3>Format</h3>
            <p>
              Keynote talks on the frontiers of IOP research, along with reflections on technical advances so far.
            </p>
          </div>
          <div class="card">
            <h3>Audience</h3>
            <p>
              Theoreticians and practitioners alike who are interested in proof systems, succinct arguments, and cryptography.
            </p>
          </div>
        </div>
      </section>

      <section id="logistics" class="fade-up">
        <h2>Logistics</h2>
        <div class="grid">
          <div class="card">
            <h3>Venue</h3>
            <p>
              Colocated with <a href="https://zkproof.org/events/zkproof-8-rome/">ZKProof 8</a>.<br />
              <a href="https://maps.google.com/?q=Courtyard+by+Marriott+Rome+Central+Park">Courtyard by Marriott Rome Central Park</a><br />
              Via Giuseppe Moscati 7, 00168 Rome, Italy
            </p>
          </div>
          <div class="card">
            <h3>Registration</h3>
            <p>
              Included with
              <a href="https://eurocrypt.iacr.org/2026/affiliated.php">Eurocrypt affiliated events</a>
              or
              <a href="https://zkproof.org/events/zkproof-8-rome/">ZKProof 8</a>.
            </p>
          </div>
        </div>
      </section>

      <section id="speakers" class="fade-up">
        <h2>Speakers</h2>
        <div class="organizers">
          <div class="organizer">
            <img class="organizer-photo" src="images/alessandro-chiesa-announce.jpg" alt="Alessandro Chiesa" />
            <strong>Alessandro Chiesa</strong>
            <span>EPFL</span>
          </div>
          <div class="organizer">
            <img class="organizer-photo" src="images/pratyush-mishra.png" alt="Pratyush Mishra" />
            <strong>Pratyush Mishra</strong>
            <span>UPenn</span>
          </div>
          <div class="organizer">
            <div class="organizer-photo" aria-hidden="true"></div>
            <strong>Noor Athamnah</strong>
            <span>Technion</span>
          </div>
          <div class="organizer">
            <img class="organizer-photo" src="images/ww1.jpg" alt="William Wang" />
            <strong>William Wang</strong>
            <span>NYU</span>
          </div>
        </div>
      </section>

      <section id="organizers" class="fade-up">
        <h2>Organizers</h2>
        <div class="organizers">
          <div class="organizer">
            <strong>Giacomo Fenzi</strong>
            <span>EPFL</span>
          </div>
          <div class="organizer">
            <strong>Ron Rothblum</strong>
            <span>Succinct</span>
          </div>
          <div class="organizer">
            <strong>Nick Spooner</strong>
            <span>Cornell</span>
          </div>
        </div>
      </section>


      <footer>
        <div>IOP Fest ¬∑ Rome</div>
        <div>¬© 2026 IOP Fest ¬∑ Designed with care.</div>
      </footer>
    </main>

    <script>
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
            }
          });
        },
        { threshold: 0.15 }
      );

      document.querySelectorAll(".fade-up").forEach((section, index) => {
        section.style.transitionDelay = `${index * 0.08}s`;
        observer.observe(section);
      });

      const tabButtons = document.querySelectorAll(".tab-button");
      const tabPanels = document.querySelectorAll(".tab-panel");

      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const target = button.dataset.tab;
          tabButtons.forEach((tab) => tab.classList.toggle("is-active", tab === button));
          tabPanels.forEach((panel) => panel.classList.toggle("is-active", panel.dataset.panel === target));
        });
      });

      const liveTimeEl = document.getElementById("live-time");
      const liveOutputEl = document.getElementById("live-output");
      const eventConfig = {
        year: 2026,
        month: 5,
        day: 9,
        timeZone: "Europe/Rome"
      };

      const programSchedule = [
        {
          start: "09:00",
          end: "09:05",
          type: "talk",
          title: "Introduction",
          speaker: "Giacomo ¬∑ Ron ¬∑ Nick",
          abstract: "A few words from the organizers."
        },
        {
          start: "09:05",
          end: "09:50",
          type: "talk",
          title: "Proximity testing to Reed--Solomon codes",
          speaker: "Alessandro Chiesa ¬∑ EPFL",
          abstract: "TBA"
        },
        {
          start: "09:50",
          end: "10:15",
          type: "break",
          title: "‚òï Coffee break"
        },
        {
          start: "10:15",
          end: "11:00",
          type: "talk",
          title: "Query-optimal IOPs of proximity",
          speaker: "Pratyush Mishra ¬∑ UPenn",
          abstract: "TBA"
        },
        {
          start: "11:00",
          end: "11:15",
          type: "break",
          title: "‚òï Coffee break"
        },
        {
          start: "11:15",
          end: "12:00",
          type: "talk",
          title: "IOPs for boolean circuits",
          speaker: "Noor Athamnah ¬∑ Technion",
          abstract: "TBA"
        },
        {
          start: "12:00",
          end: "13:15",
          type: "break",
          title: "Lunch break",
          note: "Walkable options nearby"
        },
        {
          start: "13:15",
          end: "14:00",
          type: "talk",
          title: "Proximity gaps conjectures",
          speaker: "TBA",
          abstract: "TBA"
        },
        {
          start: "14:00",
          end: "14:15",
          type: "break",
          title: "‚òï Coffee break"
        },
        {
          start: "14:15",
          end: "15:00",
          type: "talk",
          title: "IORs and hash-based accumulation",
          speaker: "William Wang ¬∑ NYU",
          abstract: "TBA"
        },
        {
          start: "15:00",
          end: "15:15",
          type: "break",
          title: "‚òï Coffee break"
        },
        {
          start: "15:15",
          end: "16:00",
          type: "talk",
          title: "Open Problems Session",
          speaker: "Open Problems Session",
          abstract: "Group discussion to close the day."
        }
      ];

      const timeTester = (() => {
        let overrideMs = null;
        let enabled = false;

        const parseOverride = (value) => {
          const match = /^(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2})(?::(\d{2}))?$/.exec(value);
          if (!match) {
            return null;
          }
          const [, year, month, day, hour, minute, second] = match;
          return getZonedTimestamp(
            Number(year),
            Number(month),
            Number(day),
            Number(hour),
            Number(minute),
            Number(second || "0")
          );
        };

        return {
          setOverride(value) {
            const parsed = parseOverride(value);
            if (!parsed) {
              console.warn("Use ISO format YYYY-MM-DDTHH:MM or YYYY-MM-DD HH:MM");
              return;
            }
            overrideMs = parsed;
            enabled = true;
            console.info("Time override enabled:", value);
          },
          clearOverride() {
            enabled = false;
            console.info("Time override disabled.");
          },
          toggleOverride() {
            if (!overrideMs) {
              console.warn("Set an override first via window.IOPTime.setOverride(...)");
              return;
            }
            enabled = !enabled;
            console.info(`Time override ${enabled ? "enabled" : "disabled"}.`);
          },
          getNow() {
            return new Date(enabled && overrideMs ? overrideMs : Date.now());
          }
        };
      })();

      window.IOPTime = timeTester;

      function getTimeZoneParts(date, timeZone) {
        const parts = new Intl.DateTimeFormat("en-GB", {
          timeZone,
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hourCycle: "h23"
        }).formatToParts(date);
        return parts.reduce((acc, part) => {
          if (part.type !== "literal") {
            acc[part.type] = part.value;
          }
          return acc;
        }, {});
      }

      function getTimeZoneOffset(timeZone, date) {
        const parts = getTimeZoneParts(date, timeZone);
        const iso = `${parts.year}-${parts.month}-${parts.day}T${parts.hour}:${parts.minute}:${parts.second}Z`;
        return Date.parse(iso) - date.getTime();
      }

      function getZonedTimestamp(year, month, day, hour, minute, second) {
        const utcGuess = Date.UTC(year, month - 1, day, hour, minute, second);
        const offset = getTimeZoneOffset(eventConfig.timeZone, new Date(utcGuess));
        return utcGuess - offset;
      }

      function formatRomeDateTime(date) {
        return new Intl.DateTimeFormat("en-GB", {
          timeZone: eventConfig.timeZone,
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hourCycle: "h23"
        }).format(date);
      }

      function formatRomeTime(date) {
        return new Intl.DateTimeFormat("en-GB", {
          timeZone: eventConfig.timeZone,
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
          hourCycle: "h23"
        }).format(date);
      }

      function buildSchedule() {
        return programSchedule.map((item) => {
          const [startHour, startMinute] = item.start.split(":").map(Number);
          const [endHour, endMinute] = item.end.split(":").map(Number);
          return {
            ...item,
            startMs: getZonedTimestamp(eventConfig.year, eventConfig.month, eventConfig.day, startHour, startMinute, 0),
            endMs: getZonedTimestamp(eventConfig.year, eventConfig.month, eventConfig.day, endHour, endMinute, 0)
          };
        });
      }

      const scheduleWithTimes = buildSchedule();
      const firstTalkStart = scheduleWithTimes[0].startMs;
      const lastTalkEnd = scheduleWithTimes[scheduleWithTimes.length - 1].endMs;

      function formatCountdown(seconds) {
        const days = Math.floor(seconds / 86400);
        const hours = Math.floor((seconds % 86400) / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = Math.floor(seconds % 60);
        const parts = [];
        if (days > 0) {
          parts.push(`${days}d`);
        }
        parts.push(`${String(hours).padStart(2, "0")}h`);
        parts.push(`${String(minutes).padStart(2, "0")}m`);
        parts.push(`${String(secs).padStart(2, "0")}s`);
        return parts.join(" ");
      }

      function formatCountdownHtml(seconds) {
        const days = Math.floor(seconds / 86400);
        const hours = Math.floor((seconds % 86400) / 3600);
        const minutes = Math.floor((seconds % 3600) / 60);
        const secs = Math.floor(seconds % 60);
        const segments = [];
        if (days > 0) {
          segments.push({ value: days, unit: "d" });
        }
        segments.push({ value: String(hours).padStart(2, "0"), unit: "h" });
        segments.push({ value: String(minutes).padStart(2, "0"), unit: "m" });
        segments.push({ value: String(secs).padStart(2, "0"), unit: "s" });
        return segments
          .map(
            (segment) =>
              `<span class="countdown-segment"><span class="countdown-number">${segment.value}</span><span class="countdown-unit">${segment.unit}</span></span>`
          )
          .join("");
      }

      function renderCountdownLabel() {
        return `<div class="live-title">Countdown to the first talk</div>`;
      }

      function renderTalk(item) {
        const abstract = item.abstract || "Abstract to be announced.";
        return `
          <div class="live-speaker">${item.speaker}</div>
          <div class="live-title">${item.title} (${item.start}‚Äì${item.end})</div>
          <div class="muted">${abstract}</div>
        `;
      }

      function renderBreak(item, nextItem) {
        const minutes = Math.round((item.endMs - item.startMs) / 60000);
        const nextLine = nextItem
          ? `Next: ${nextItem.title} (${nextItem.start}‚Äì${nextItem.end})`
          : "Next: Closing remarks";
        const note = item.note ? ` ‚Ä¢ ${item.note}` : "";
        return `
          <div class="live-title">${item.title}${note}</div>
          <div class="live-speaker">${minutes} minute break</div>
          <div class="muted">${nextLine}</div>
        `;
      }

      function renderEventOver() {
        return `
          <div class="live-title">The event is over.</div>
          <div class="muted">Thanks for joining IOP Fest in Rome.</div>
        `;
      }

      function updateLiveStatus() {
        if (!liveTimeEl || !liveOutputEl) {
          return;
        }
        const now = timeTester.getNow();
        const nowParts = getTimeZoneParts(now, eventConfig.timeZone);
        const nowDateValue =
          Number(nowParts.year) * 10000 + Number(nowParts.month) * 100 + Number(nowParts.day);
        const eventDateValue = eventConfig.year * 10000 + eventConfig.month * 100 + eventConfig.day;
        const nowMs = now.getTime();

        if (nowDateValue < eventDateValue) {
          const seconds = Math.max(0, Math.floor((firstTalkStart - nowMs) / 1000));
          liveTimeEl.classList.add("is-countdown");
          liveTimeEl.innerHTML = formatCountdownHtml(seconds);
          liveOutputEl.innerHTML = renderCountdownLabel();
          return;
        }

        if (nowMs >= lastTalkEnd || nowDateValue > eventDateValue) {
          liveTimeEl.classList.remove("is-countdown");
          liveTimeEl.textContent = "Event complete";
          liveOutputEl.innerHTML = renderEventOver();
          return;
        }

        if (nowMs < firstTalkStart) {
          const seconds = Math.max(0, Math.floor((firstTalkStart - nowMs) / 1000));
          liveTimeEl.classList.add("is-countdown");
          liveTimeEl.innerHTML = formatCountdownHtml(seconds);
          liveOutputEl.innerHTML = renderCountdownLabel();
          return;
        }

        const currentIndex = scheduleWithTimes.findIndex((item) => nowMs >= item.startMs && nowMs < item.endMs);
        const currentItem = scheduleWithTimes[currentIndex];
        if (!currentItem) {
          liveTimeEl.classList.remove("is-countdown");
          liveTimeEl.textContent = "Event complete";
          liveOutputEl.innerHTML = renderEventOver();
          return;
        }

        if (currentItem.type === "break") {
          liveTimeEl.classList.remove("is-countdown");
          liveTimeEl.textContent = "Break";
          liveOutputEl.innerHTML = renderBreak(currentItem, scheduleWithTimes[currentIndex + 1]);
          return;
        }

        liveTimeEl.classList.remove("is-countdown");
        liveTimeEl.textContent = "Now speaking";
        liveOutputEl.innerHTML = renderTalk(currentItem);
      }

      updateLiveStatus();
      setInterval(updateLiveStatus, 1000);
    </script>
  </body>
</html>
